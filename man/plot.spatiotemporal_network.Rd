% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create-spatiotemporal-network.R
\name{plot.spatiotemporal_network}
\alias{plot.spatiotemporal_network}
\title{Plot spatiotemporal network or TNKDE results}
\usage{
\method{plot}{spatiotemporal_network}(
  x,
  y,
  mode = c("event", "count", "density"),
  snapshot_time = 12,
  plot_3d = FALSE,
  time_range = 0:23,
  ...
)
}
\arguments{
\item{x}{The \code{spatiotemporal_network} object (often the output of \code{convolute_spatiotemporal_network}).}

\item{y}{(Not used).}

\item{mode}{Character string specifying the type of visualization:
\code{"event"} (individual points), \code{"count"} (event count per segment), or \code{"density"} (TNKDE density).}

\item{snapshot_time}{Numeric. The hour (0-23) for which to create the static 2D snapshot plot.}

\item{plot_3d}{Logical. If \code{TRUE}, an interactive 3D plot using \code{rgl} is created.}

\item{time_range}{Numeric vector (e.g., 0:23) specifying the time points to include in the 3D plot.}

\item{...}{Additional arguments passed to helper functions.}
}
\value{
\code{NULL} (invisibly). Opens an interactive \code{rgl} window for 3D plots, or draws a base R plot for 2D.
}
\description{
Creates a plot to visualize the events, counts, or \strong{TNKDE density} on a
spatiotemporal network. The default is a 2D snapshot plot. The 3D view is
optimized for visualizing TNKDE results across time.
}
\examples{
# Run the TNKDE calculation
tnkde_result <- sample_roads |>
  create_road_network() |>
  create_spatiotemporal_network(
    spatial_length = 0.5,
    temporal_length = "1 hour"
  ) |>
  set_events(sample_accidents, time_column = "time") |>
  convolute_spatiotemporal_network(
    bandwidth_space = 2,
    bandwidth_time = 1.5,
    time_points = 0:23
  )

# Plotting examples:

# A. 2D Snapshot: smoothed density
# Use Case: Visualize the primary analysis result at 19:00.
plot(tnkde_result, mode = "density", snapshot_time = 19)

# B. 2D Snapshot: raw event counts per segment
# Use Case: See raw event counts at a specific hour (e.g., 7:00).
plot(tnkde_result, mode = "count", snapshot_time = 7)

# C. 3D Plot: full density cube
# This is the primary visualization for spatiotemporal analysis.
# plot(tnkde_result, mode = "density", plot_3d = TRUE)
}
